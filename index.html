<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeTutor App</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>

<div class="quiz-container">

    <div id="uploadScreen" class="screen active">
        <div class="quiz-header">
            <h1>ğŸ“ CodeTutor</h1>
            <button id="viewScoreboardBtn" style="font-size:0.8rem; background:#64748b; color:white;">ğŸ† Scoreboard</button>
        </div>

        <div class="login-panel">
            <div class="input-group">
                <input type="text" id="studentName" placeholder="Enter Your Name">
                <input type="text" id="schoolName" placeholder="Enter School Name">
            </div>

            <div class="mode-selector">
                <label><input type="radio" name="quizMode" value="practice" checked> ğŸ›¡ï¸ Practice</label>
                <label><input type="radio" name="quizMode" value="test"> âš”ï¸ Test Mode</label>
            </div>

            <div style="font-weight:bold; margin-top:10px;">Select a Chapter:</div>
            <div id="quizList" class="quiz-list"></div>

            <div style="display:flex; justify-content:space-between; margin-top:15px;">
                <button id="startQuiz" disabled>Start Learning â–¶</button>
                <button id="demoModeBtn" style="background:#e2e8f0; color:#475569; font-size:0.8rem;">ğŸ› ï¸ Demo</button>
            </div>
            <div id="errorMessage" style="color:red; text-align:center; margin-top:10px;"></div>
        </div>
    </div>

    <div id="quizScreen" class="screen">
        <div class="quiz-header">
            <div id="chapterTitle" style="font-weight:bold;">Chapter</div>
            <div class="stats-bar">
                <span>â° <span id="timer">0</span>s</span>
                <span>â­ <span id="currentScore">0</span></span>
            </div>
        </div>

        <div id="questionGrid" style="display:flex; flex-wrap:wrap; gap:5px; margin-bottom:15px;"></div>

        <div class="question-area">
            <div class="q-badge">Question <span id="currentQuestion">1</span> / <span id="totalQuestions">0</span></div>
            <div class="question-text">
                <div id="questionEn"></div>
                <div id="questionHi" style="color:#64748b; font-size:0.9em; margin-top:5px;"></div>
            </div>
        </div>

        <div id="optionsContainer" class="options-grid"></div>

        <div class="nav-buttons">
            <button id="prevBtn">â† Back</button>
            <button id="hintBtn">ğŸ’¡ Hint</button>
            <button id="nextBtn">Next â†’</button>
        </div>
        <div style="text-align:center; margin-top:15px;">
            <button id="quitBtn" style="background:none; color:red; font-size:0.9rem;">Quit Quiz</button>
        </div>
    </div>

    <div id="resultsScreen" class="screen">
        <div style="text-align:center;">
            <h2>ğŸ‰ Quiz Completed!</h2>
            <div style="font-size:3rem; font-weight:bold; margin:20px 0;">
                <span id="finalScore">0</span> / <span id="totalPossible">0</span>
            </div>
            <h3 id="percentage" style="color:#2563eb;">0%</h3>
            <p>Time Taken: <span id="totalTime">0m</span></p>
            
            <div id="resultsBreakdown" style="text-align:left; border:1px solid #e2e8f0; padding:10px; max-height:200px; overflow-y:auto; margin:20px 0;"></div>

            <div class="nav-buttons" style="justify-content:center; gap:10px;">
                <button id="retakeBtn">ğŸ”„ Retake</button>
                <button id="homeBtn">ğŸ  Home</button>
            </div>
        </div>
    </div>

    <div id="scoreboardScreen" class="screen">
        <h2>ğŸ† Leaderboard</h2>
        <table style="width:100%; border-collapse:collapse;">
            <thead style="background:#f1f5f9; text-align:left;">
                <tr><th style="padding:10px;">Date</th><th>Name</th><th>Score</th></tr>
            </thead>
            <tbody id="scoreboardBody"></tbody>
        </table>
        <div class="nav-buttons">
            <button id="backFromScoreboard">â† Back</button>
        </div>
    </div>

    <div id="quitModal" class="modal">
        <div class="modal-content">
            <h3>Quit Quiz?</h3>
            <p>Your progress will be lost.</p>
            <div style="display:flex; justify-content:center; gap:10px; margin-top:20px;">
                <button id="confirmQuit" style="background:red; color:white;">Yes, Quit</button>
                <button id="cancelQuit" style="background:#cbd5e1; color:black;">Cancel</button>
            </div>
        </div>
    </div>

</div>

<script src="scripts/utils.js"></script>
<script src="scripts/quiz-engine.js"></script>
<script src="scripts/app.js"></script>

</body>
</html>
